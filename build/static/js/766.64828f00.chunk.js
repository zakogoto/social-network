"use strict";(self.webpackChunkreact_app_01=self.webpackChunkreact_app_01||[]).push([[766],{1766:(s,e,t)=>{t.r(e),t.d(e,{default:()=>q});var r=t(5043),o=t(3003);const a={wrap:"Post_wrap__Ibzh3",item:"Post_item__fFNRM",desc:"Post_desc__gB2qq",name:"Post_name__l81hF",img:"Post_img__43CX+",post:"Post_post__RHlxe"};var n=t(579);function i(s){const{imgSrc:e,name:t,post:r,count:o}=s;return(0,n.jsxs)("div",{className:a.wrap,children:[(0,n.jsxs)("div",{className:a.item,children:[(0,n.jsx)("img",{src:e,alt:t,className:a.img}),(0,n.jsxs)("div",{className:a.desc,children:[(0,n.jsx)("h3",{className:a.name,children:t}),(0,n.jsx)("p",{className:a.post,children:r})]})]}),(0,n.jsxs)("span",{children:["Likes: ",o||0]})]})}const l="MyPosts_wrap__L-nyq",c="MyPosts_item__I2auz",u="MyPosts_btn__QB-49";var p=t(5963),d=t(3842),f=t(4544),h=t(5531);const m=(0,f.dX)(50),_=(0,d.A)({form:"post"})((s=>(0,n.jsxs)("form",{onSubmit:s.handleSubmit,className:c,children:[(0,n.jsx)(p.A,{component:h.TM,name:"newPost",validate:[m],placeholder:"New posts"}),(0,n.jsx)("button",{className:u,children:"Post"})]})));var x=t(8272);const g=s=>s.profilePage.postsData,j=s=>s.profilePage.profileInfo,P=s=>s.profilePage.newPost,v=s=>s.profilePage.id,N=s=>s.profilePage.status,I=s=>s.profilePage.isFetching,S=(0,o.Ng)((s=>({postsData:g(s),newPost:P(s)})),{addNewPost:x.S})((function(s){const e=s.postsData.map(((s,e)=>(0,n.jsx)(i,{post:s.message,name:s.name,imgSrc:s.imgSrc},e)));return(0,n.jsxs)("div",{className:l,children:[(0,n.jsx)(_,{onSubmit:e=>{s.addNewPost(e.newPost)}}),(0,n.jsx)("div",{children:e})]})}));var w=t(4415),C=t(4774);const U={wrap:"ProfileInfo_wrap__H-adh",profilePhoto:"ProfileInfo_profilePhoto__vkhD7",profileInfo:"ProfileInfo_profileInfo__WUYL5",profileName:"ProfileInfo_profileName__BHFeb",status:"ProfileInfo_status__-Ghpx",contacts:"ProfileInfo_contacts__VNlt6"};function F(s){let{status:e,updateUserStatus:t}=s,[o,a]=(0,r.useState)(!1),[i,l]=(0,r.useState)(e);(0,r.useEffect)((()=>{l(e)}),[e]);return(0,n.jsx)("div",{children:o?(0,n.jsx)("input",{onChange:s=>{l(s.currentTarget.value)},autoFocus:!0,onBlur:()=>{a(!1),t(i)},defaultValue:i}):(0,n.jsx)("span",{onDoubleClick:()=>{a(!0)},children:e||"no status"})})}function b(s){const{profileInfo:e,status:t,updateUserStatus:r,id:o,isFetching:a}=s;if(!e)return(0,n.jsx)(C.A,{});const i=Object.entries(e.contacts).map((s=>(0,n.jsx)("a",{href:s[1],children:s[0]})));return(0,n.jsx)("div",{children:a?(0,n.jsx)(C.A,{}):(0,n.jsxs)("div",{className:U.wrap,children:[(0,n.jsx)("img",{className:U.profilePhoto,src:null!=e.photos.large?e.photos.large:w,alt:"profile"}),(0,n.jsxs)("div",{className:U.profileInfo,children:[(0,n.jsx)("h2",{className:U.profileName,children:e.fullName}),(0,n.jsx)(F,{status:t,updateUserStatus:r},o),(0,n.jsx)("div",{className:U.contacts,children:i})]})]})})}function A(s){const{isFetching:e,profileInfo:t,status:r,updateUserStatus:o}=s;return(0,n.jsxs)("div",{children:[(0,n.jsx)(b,{isFetching:e,profileInfo:t,status:r,updateUserStatus:o}),(0,n.jsx)(S,{})]})}var M=t(7750),y=t(243),D=t(3923);const k=s=>s.auth.id,q=(0,D.Zz)((0,o.Ng)((s=>({postsData:g(s),newPost:P(s),id:v(s),authId:k(s),status:N(s),profileInfo:j(s),isFetching:I(s)})),{getPosts:x.K5,getUserProfile:x.VM,getUserStatus:x.CD,updateUserStatus:x.pU,resetUserProfile:x.uq}),M.A,y.y)((s=>{const{router:e,authId:t,profileInfo:o,updateUserStatus:a,status:i,getUserStatus:l,getUserProfile:c}=s;return(0,r.useEffect)((()=>{(()=>{let s=e.params.id;s||(s=t),c(s),l(s)})()}),[e.params.id]),(0,n.jsx)(A,{...s,profileInfo:o,updateUserStatus:a,status:i})}))},243:(s,e,t)=>{t.d(e,{y:()=>i});var r=t(5043),o=t(3003),a=t(3216),n=t(579);const i=s=>{class e extends r.Component{render(){return this.props.isAuth||this.props.router&&"/profile"!==this.props.router.location.pathname?(0,n.jsx)(s,{...this.props}):(0,n.jsx)(a.C5,{to:"/login"})}}return(0,o.Ng)((s=>({isAuth:s.auth.isAuth})))(e)}},5531:(s,e,t)=>{t.d(e,{Fv:()=>c,TM:()=>l,pd:()=>i});t(5043);var r=t(5391),o=t(5963),a=t(579);const n=s=>e=>{let{input:t,meta:o,...n}=e;const i=o.error&&o.touched;return(0,a.jsxs)("div",{className:i?r.A.error:r.A.formControl,children:[(0,a.jsx)(s,{...t,...o,...n}),i&&(0,a.jsx)("span",{className:r.A.errorMessage,children:o.error})]})},i=n("input"),l=n("textarea"),c=function(s,e,t,r,n){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return(0,a.jsxs)("div",{children:[(0,a.jsx)(o.A,{component:s,type:e,placeholder:t,name:r,validate:n}),(0,a.jsx)("span",{children:i})]})}},4544:(s,e,t)=>{t.d(e,{XP:()=>a,dX:()=>o,mw:()=>r});const r=s=>{if(!s)return"Field is required"},o=s=>e=>{if(e&&e.length>s)return"Max length ".concat(s," symbols")},a=s=>e=>{if(e&&e.length<s)return"Min length ".concat(s," symbols")}},5391:(s,e,t)=>{t.d(e,{A:()=>r});const r={formControl:"FormsControl_formControl__EYfDy",error:"FormsControl_error__dhOV-",errorMessage:"FormsControl_errorMessage__CvuuO"}}}]);
//# sourceMappingURL=766.64828f00.chunk.js.map